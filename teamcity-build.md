# TeamCity 编译流程

发现好几个问题：
1. 同一个 agent 不支持并发
感觉只能多加几台 agent？

2. 如果一个 agent 里面配了多个分支，不同分支切换编译的时候，就会重新 checkout，然后之前编译的数据就会被清空。不能根据分支来缓存，编译效率有点低。
貌似可以多加个 Step 把代码给缓存下来，然后下次编译前再把之前的缓存取出来